-----------------------------------------------------------------------------------------------------------
## Project : CQ_GLU 可靠性测试
-----------------------------------------------------------------------------------------------------------
#### 工程简介
-----------------------------------------------------------------------------------------------------------
本工程开发背景是基于CQ_GLU可靠性测试需求，实现在常青环境下前景（本地）与背景（后台）下压力测试监控，从而实现可靠性测试验证的目的。
工程操作系统环境为ubuntu的16.04 LTS。
整个工程目录结构主要由bin、etc、lib、log几个目录构成，各目录的说明详见下节的目录结构描述。
-----------------------------------------------------------------------------------------------------------
#### 目录结构描述
-----------------------------------------------------------------------------------------------------------
Directory description (CQ_GLU reliability test)
-----------------------------------------------------------------------------------------------------------
CQ31_RELI/                      # 主目录
├── bin                         # 业务层目录，存放各个测试内容文件
│   ├── fb_switch		# 模式切换：
│   ├── monitor_camera		# 压力测试：摄像头丢帧裂帧测试，支持前景与背景测试
│   └── monitor_lidar		# 压力测试：lidar1与lidar2接口网络测试，支持前景与背景测试
├── etc 	                # 公共目录，目录中的文件定义了业务层运行时所需的各类依赖文件和第三方库
│   ├── function_deb.sh         # 公共函数：安装依赖文件和第三方库文件
│   └── search_list             # 公共常量：遍历结果执行参照模块名称
├── lib   			# 共享库，存放安装包、公共执行文件
│   ├── cq_deb			# 共享库: 依赖安装包
│   ├── cq_file			# 共享库: 公共执行文件
│   	├── camera		# 共享库: camera执行文件
│   	├── cron		# 共享库：例行任务执行文件
│   	└── rclocal		# 共享库：后台执行替换文件
├── log                         # 日志目录，用于存放各类监控内容日志
│   ├── check_camera		# 日志: camera测试过程记录日志
│   ├── check_lidar1		# 日志: lidar1测试过程记录日志
│   ├── check_lidar2		# 日志: lidar2测试过程记录日志
│   └── statistic_result	# 日志: 结果遍历统计日志
├── run				# 测试启动文件，用于启动前景（本地）环境按需执行测试内容
├── config.json			# 配置JSON：前后背景切换、gps参数、lidar参数、统计结果参数；
├── satistic_error		# 结果统计：结果遍历统计
└── README.md                   # 工程说明文件
-----------------------------------------------------------------------------------------------------------
#### 使用说明 
-----------------------------------------------------------------------------------------------------------
1、测试环境准备：

2、配置文件说明：
	{
	  "fb_switch": 1,		# 前后背景
	  "para_gps": {
	    "uos_name": "uisee_0424"	# uos依赖uos包名称
	  },
	  "para_lidar": {
	    "l1_ip": "192.168.100.90",	# lidar1接口连接PC1的ip
	    "l1_name": "uisee",		# lidar1接口连接PC1的名称
	    "l1_port": 1001,		
	    "l2_ip": "192.168.100.90",
	    "l2_name": "uisee",
	    "l2_port": 1002,
	    "iperf_band": 100,
	    "iperf_inter": 2,
	    "iperf_time": 20
	  },
	  "para_stat": {
	    "mail_switch_annex": 1,
	    "mail_switch_content": 1,
	    "mail_cc_account": "jianqiangx.shang@uisee.com",
	    "md5_cron": "cb2450165b72bc70f3aa0088c135baac",
	    "rollback_num": 10
	  }
	}
2、执行测试：	
	各个测试项的监控指令如下：
	执行指令：./run 1	# 表示执行前后台切换使能，须配合config.json文件"fb_switch"字段一起使用；
	执行指令：./run 2	# 表示执行camera压力监控；
	执行指令：./run 3	# 表示执行fan压力监控；
	执行指令：./run 4	# 表示执行gps压力监控；
	执行指令：./run 5	# 表示执行Lidar1压力监控；
	执行指令：./run 6	# 表示执行Lidar2压力监控；
	执行指令：./run 7	# 表示执行imu压力监控；
3、遍历异常：
	执行指令：./statistic_error
	该指令用于多次上下电或多次重复测试执行，单项功能日志路径产生多个日志文件，便于快速获取统计执行结果状态。
4、测试记录：
	测试项过程与结果统计日志存储于CQ33_RELI/log/路径，测试单元项日志文件目录以check_unitname命令，同时以本次执行开始的时间"yyyy-dd-mm-HH-MM-SS"命名作为日志存储子目录。
-----------------------------------------------------------------------------------------------------------
